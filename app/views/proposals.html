<div class="proposals-wrapper">
  <button id="btnFiltro" type="button" class="btn btn-default btn-flat btn-filter" ng-click="isCollapsed = !isCollapsed">
    <i class="fa fa-filter"></i> Filtrar por categoria
  </button>
  <div class="collapsable-filters" ng-hide="isCollapsed" category-selector>
    <label ng-repeat="category in categories" class="category-filter">
      <input type="checkbox" ng-model='value' ng-change="filterChange(category)"> {{category}}
    </label>
  </div>
  <div class="proposals-columns">
    <div class="proposal" ng-repeat="proposal in proposals | propCategoryFilter:myFilter">
    <div class="proposal-content">
      <div class="theme" ng-style="{'color': proposal.cor}">
        {{proposal.tema}}
        <small>
          {{proposal.subtema}}
        </small>
        {{userVote}}
      </div>
      <p class="description">{{proposal.titulo}}</p>
      <div class="well" style="padding: 10px" ng-controller="ProposalVotingCtrl">
        Avalie: <rating class="rating_stars" ng-model="userVotes[proposal.id]" max="max" readonly="isReadonly" on-hover="hoveringOver(value)" on-leave="overStar = null" ng-click="saveRate(proposal.id, userVotes[proposal.id])"></rating>
        <span ng-show=" userVotes[proposal.id] > 0 ">| Sua avaliação: {{userVotes[proposal.id]}}</span>
        <div class="nota-geral">Avaliação média: {{proposal.media | ratingFormat:2:"-":5}} <br></div>
      </div>
        <a ui-sref="proposal({nameUrl:selectedPolitical.nome_url, proposalId:proposal.id})" class="detalhes"><i class="fa fa-plus"></i> Detalhes</a>

      </div>
    </div>
  </div>
</div>




